<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Communications ATC - VFR Radio Phrase Guide</title>
<style>
  body {
    font-family: Arial, sans-serif;
    max-width: 700px;
    margin: 20px auto;
    padding: 10px;
    background: #f0f4f8;
    color: #222;
  }
  h1 {
    text-align: center;
    color: #dc3545;
  }
  .lang-switch {
    display: flex;
    justify-content: center;
    gap: 16px;
    margin-bottom: 16px;
  }
  .lang-switch button {
    background: #fce8e6;
    color: #dc3545;
    border: 1px solid #dc3545;
    border-radius: 4px;
    padding: 6px 14px;
    font-weight: bold;
    cursor: pointer;
  }
  .lang-switch button.active {
    background: #dc3545;
    color: #fff;
  }
  .options-switch {
    display: flex;
    justify-content: center;
    gap: 16px;
    margin-bottom: 16px;
    padding: 10px;
    background: #fff;
    border-radius: 8px;
    border: 1px solid #dee2e6;
  }
  .options-switch button {
    background: #e9ecef;
    color: #495057;
    border: 1px solid #ced4da;
    border-radius: 4px;
    padding: 6px 14px;
    font-weight: bold;
    cursor: pointer;
  }
  .options-switch button.active {
    background: #007bff;
    color: #fff;
    border-color: #007bff;
  }
  .options-switch button:hover:not(.active) {
    background: #f8f9fa;
  }
  .back-button {
    display: inline-block;
    margin-bottom: 20px;
    background: #6c757d;
    color: white;
    text-decoration: none;
    padding: 8px 16px;
    border-radius: 4px;
    font-weight: bold;
  }
  .back-button:hover {
    background: #5a6268;
  }
  label {
    display: block;
    margin-top: 12px;
    font-weight: bold;
  }
  input, select {
    width: 100%;
    padding: 8px;
    margin-top: 4px;
    font-size: 1rem;
    border: 1px solid #bbb;
    border-radius: 4px;
  }
  button[type="submit"] {
    margin-top: 20px;
    background-color: #dc3545;
    color: white;
    border: none;
    padding: 12px 20px;
    font-size: 1.1rem;
    border-radius: 5px;
    cursor: pointer;
  }
  button[type="submit"]:hover {
    background-color: #c82333;
  }
  .phrase {
    background: #fce8e6;
    color: #721c24;
    font-weight: bold;
    padding: 8px 10px;
    border-radius: 4px;
    margin-bottom: 8px;
    display: block;
  }
  details {
    margin-bottom: 12px;
    background: #fff;
    border: 1px solid #f8d7da;
    border-radius: 4px;
    padding: 6px 10px;
  }
  summary {
    font-weight: bold;
    cursor: pointer;
    color: #dc3545;
  }
  .step-title {
    font-weight: bold;
    font-size: 1.15em;
    margin: 18px 0 8px 0;
    color: #dc3545;
  }
  .info-box {
    background: #d1ecf1;
    border: 1px solid #bee5eb;
    border-radius: 4px;
    padding: 15px;
    margin-bottom: 20px;
    color: #0c5460;
  }
</style>
</head>
<body>

<a href="index.html" class="back-button">‚Üê Retour au menu principal</a>

<div class="lang-switch">
  <div>
    <span>Site :</span>
    <button id="site-fr" class="active" onclick="setSiteLang('fr')" type="button">Fran√ßais</button>
    <button id="site-en" onclick="setSiteLang('en')" type="button">English</button>
  </div>
  <div>
    <span>Com radio :</span>
    <button id="comm-fr" onclick="setCommLang('fr')" type="button">Fran√ßais</button>
    <button id="comm-en" class="active" onclick="setCommLang('en')" type="button">English</button>
  </div>
</div>

<div class="options-switch">
  <div>
    <span>Type de vol :</span>
    <button id="flight-vfr" class="active" onclick="setFlightType('vfr')" type="button">VFR</button>
    <button id="flight-ifr" onclick="setFlightType('ifr')" type="button">IFR</button>
  </div>
  <div>
    <span>Cartes :</span>
    <button id="charts-updated" class="active" onclick="setChartsStatus('updated')" type="button">√Ä jour</button>
    <button id="charts-outdated" onclick="setChartsStatus('outdated')" type="button">Pas √† jour</button>
  </div>
</div>

<h1 id="main-title">Communications ATC - Guide des phrases radio VFR</h1>

<div class="info-box">
  <strong>‚ÑπÔ∏è Information importante :</strong><br>
  <span id="info-text">Les communications ATC suivent des proc√©dures strictes. Utilisez toujours les phrases officielles et respectez les instructions du contr√¥leur. En cas de doute, n'h√©sitez pas √† demander des clarifications.</span>
</div>

<form id="atcForm" onsubmit="generatePhrases(event)">
  <label for="callsign" data-fr="Callsign (optionnel)" data-en="Callsign (optional)">Callsign (optionnel)</label>
  <input type="text" id="callsign" name="callsign" placeholder="Ex: Victor Juliet Zero Five" />

  <label for="departure" data-fr="D√©part (nom de l'a√©roport)" data-en="Departure (airport name)">D√©part (nom de l'a√©roport)</label>
  <input type="text" id="departure" name="departure" required placeholder="Ex: Paris Charles-de-Gaulle" />

  <label for="arrival" data-fr="Arriv√©e (nom de l'a√©roport)" data-en="Arrival (airport name)">Arriv√©e (nom de l'a√©roport)</label>
  <input type="text" id="arrival" name="arrival" required placeholder="Ex: Paris Orly" />

  <label for="runwayDep" data-fr="Piste d√©part" data-en="Departure runway">Piste d√©part</label>
  <input type="text" id="runwayDep" name="runwayDep" required placeholder="Ex: 27" />

  <label for="runwayArr" data-fr="Piste arriv√©e" data-en="Arrival runway">Piste arriv√©e</label>
  <input type="text" id="runwayArr" name="runwayArr" required placeholder="Ex: 09" />

  <label for="degree" data-fr="Cap (degr√©)" data-en="Heading (degree)">Cap (degr√©)</label>
  <input type="number" id="degree" name="degree" required placeholder="Ex: 045" min="0" max="359" />

  <label for="altitude" data-fr="Altitude (pieds)" data-en="Altitude (feet)">Altitude (pieds)</label>
  <input type="number" id="altitude" name="altitude" placeholder="Ex: 3500" />

  <label for="leftRight" data-fr="Left or Right (downwind)" data-en="Left or Right (downwind)">Left or Right (downwind)</label>
  <select id="leftRight" name="leftRight" required>
    <option value="left" data-fr="Left" data-en="Left">Left</option>
    <option value="right" data-fr="Right" data-en="Right">Right</option>
  </select>

  <label for="parking" data-fr="Place de parking √† l'arriv√©e" data-en="Arrival parking spot">Place de parking √† l'arriv√©e</label>
  <input type="text" id="parking" name="parking" placeholder="Ex: G23" />

  <label for="squawk" data-fr="Code transpondeur (si connu)" data-en="Squawk code (if known)">Code transpondeur (si connu)</label>
  <input type="text" id="squawk" name="squawk" placeholder="Ex: 1200" maxlength="4" />

  <button type="submit" data-fr="G√©n√©rer les phrases ATC" data-en="Generate ATC phrases">G√©n√©rer les phrases ATC</button>
</form>

<div id="output" aria-live="polite"></div>

<script>
let siteLang = 'fr';
let commLang = 'en';

const explanations = {
  fr: [
    "Premier contact avec la tour de contr√¥le pour demande de d√©part.",
    "R√©ponse √† l'autorisation de d√©part et confirmation.",
    "Demande de roulage vers la piste.",
    "Demande de d√©collage imm√©diat.",
    "Contact avec l'approche/d√©part apr√®s d√©collage.",
    "Demande de changement d'altitude.",
    "Contact avec le centre de contr√¥le en route.",
    "Demande de cap direct au lieu d'un point de navigation.",
    "Premier contact avec l'approche de destination.",
    "Demande d'approche directe.",
    "Int√©gration dans le circuit d'a√©rodrome.",
    "Base leg dans le circuit.",
    "Finale avec clearance d'atterrissage.",
    "Lib√©ration de piste et roulage au parking.",
    "Test radio.",
    "Demande de r√©p√©tition (Say again).",
    "Demande de parler plus lentement.",
    "Confirmation de r√©ception d'instructions.",
    "Report de position en route.",
    "Demande de vecteur radar.",
    "Ident transpondeur.",
    "Changement de fr√©quence.",
    "Demande d'urgence priorit√©.",
    "PAN PAN (urgence non vitale).",
    "MAYDAY (urgence vitale)."
  ],
  en: [
    "Initial contact with tower for departure clearance.",
    "Response to departure clearance and confirmation.",
    "Request for taxi to runway.",
    "Request for immediate takeoff.",
    "Contact with approach/departure after takeoff.",
    "Request for altitude change.",
    "Contact with area control center enroute.",
    "Request for direct heading instead of navigation point.",
    "Initial contact with destination approach.",
    "Request for direct approach.",
    "Integration into airport circuit.",
    "Base leg in the circuit.",
    "Final with landing clearance.",
    "Runway vacation and taxi to parking.",
    "Radio check.",
    "Request for repetition (Say again).",
    "Request to speak slower.",
    "Confirmation of received instructions.",
    "Position report enroute.",
    "Request for radar vector.",
    "Transponder ident.",
    "Frequency change.",
    "Request for emergency priority.",
    "PAN PAN (non-vital emergency).",
    "MAYDAY (vital emergency)."
  ]
};

const phrases = {
  fr: [
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">Tour ${dep}, ${callsign || "Victor Juliet Zero Five"}, VFR au parking [position], destination ${arr}, demande autorisation de d√©part.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">${callsign || "Victor Juliet Zero Five"}, autoris√© VFR vers ${arr}, ${alt ? alt + " pieds" : "niveau demand√©"}, transpondeur ${squawk || "1200"}, rappelez pr√™t pour roulage.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">Tour ${dep}, ${callsign || "Victor Juliet Zero Five"}, pr√™t pour roulage piste ${rDep}, destination ${arr}.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">Tour ${dep}, ${callsign || "Victor Juliet Zero Five"}, pr√™t pour d√©collage imm√©diat piste ${rDep}.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">D√©part ${dep}, ${callsign || "Victor Juliet Zero Five"}, d√©coll√© piste ${rDep}, mont√©e ${alt ? alt + " pieds" : "niveau autoris√©"}, VFR vers ${arr}.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">D√©part ${dep}, ${callsign || "Victor Juliet Zero Five"}, demande mont√©e ${alt ? alt + " pieds" : "niveau sup√©rieur"}.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">Centre, ${callsign || "Victor Juliet Zero Five"}, niveau ${alt ? alt + " pieds" : "niveau actuel"}, VFR de ${dep} vers ${arr}.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">Centre, ${callsign || "Victor Juliet Zero Five"}, demande cap ${deg}¬∞ direct au lieu du point de navigation.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">Approche ${arr}, ${callsign || "Victor Juliet Zero Five"}, ${alt ? alt + " pieds" : "niveau actuel"}, [position], demande approche VFR ${arr}.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">Approche ${arr}, ${callsign || "Victor Juliet Zero Five"}, demande approche directe piste ${rArr}.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">Tour ${arr}, ${callsign || "Victor Juliet Zero Five"}, int√©gration vent ${lr === "left" ? "gauche" : "droite"} piste ${rArr}.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">Tour ${arr}, ${callsign || "Victor Juliet Zero Five"}, base piste ${rArr}.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">Tour ${arr}, ${callsign || "Victor Juliet Zero Five"}, finale piste ${rArr}, demande clearance atterrissage.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">Tour ${arr}, ${callsign || "Victor Juliet Zero Five"}, piste ${rArr} d√©gag√©e, demande roulage parking${parking ? " " + parking : ""}.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">Tour ${dep}, ${callsign || "Victor Juliet Zero Five"}, test radio.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">${callsign || "Victor Juliet Zero Five"}, say again please.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">${callsign || "Victor Juliet Zero Five"}, speak slower please.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">${callsign || "Victor Juliet Zero Five"}, Roger, message re√ßu.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">Centre, ${callsign || "Victor Juliet Zero Five"}, position [position], ${alt ? alt + " pieds" : "niveau actuel"}, estim√© ${arr} dans [temps].</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">Approche ${arr}, ${callsign || "Victor Juliet Zero Five"}, demande vecteur radar pour l'approche.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">${callsign || "Victor Juliet Zero Five"}, ident.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">${callsign || "Victor Juliet Zero Five"}, changement fr√©quence [fr√©quence], au revoir.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">Tour ${dep}, ${callsign || "Victor Juliet Zero Five"}, demande priorit√© pour [raison].</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">PAN PAN, PAN PAN, PAN PAN, ${callsign || "Victor Juliet Zero Five"}, [nature du probl√®me], position [position], demande assistance.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">MAYDAY, MAYDAY, MAYDAY, ${callsign || "Victor Juliet Zero Five"}, [urgence vitale], position [position], [nombre de personnes] personnes √† bord.</span>`
  ],
  en: [
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">${dep} Tower, ${callsign || "Victor Juliet Zero Five"}, VFR at parking [position], destination ${arr}, request departure clearance.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">${callsign || "Victor Juliet Zero Five"}, cleared VFR to ${arr}, ${alt ? alt + " feet" : "requested level"}, squawk ${squawk || "1200"}, report ready for taxi.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">${dep} Tower, ${callsign || "Victor Juliet Zero Five"}, ready for taxi runway ${rDep}, destination ${arr}.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">${dep} Tower, ${callsign || "Victor Juliet Zero Five"}, ready for immediate takeoff runway ${rDep}.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">${dep} Departure, ${callsign || "Victor Juliet Zero Five"}, airborne runway ${rDep}, climbing ${alt ? alt + " feet" : "cleared level"}, VFR to ${arr}.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">${dep} Departure, ${callsign || "Victor Juliet Zero Five"}, request climb to ${alt ? alt + " feet" : "higher level"}.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">Center, ${callsign || "Victor Juliet Zero Five"}, level ${alt ? alt + " feet" : "current level"}, VFR from ${dep} to ${arr}.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">Center, ${callsign || "Victor Juliet Zero Five"}, request heading ${deg}¬∞ direct instead of navigation point.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">${arr} Approach, ${callsign || "Victor Juliet Zero Five"}, ${alt ? alt + " feet" : "current level"}, [position], request VFR approach ${arr}.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">${arr} Approach, ${callsign || "Victor Juliet Zero Five"}, request direct approach runway ${rArr}.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">${arr} Tower, ${callsign || "Victor Juliet Zero Five"}, entering ${lr} downwind runway ${rArr}.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">${arr} Tower, ${callsign || "Victor Juliet Zero Five"}, turning base runway ${rArr}.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">${arr} Tower, ${callsign || "Victor Juliet Zero Five"}, final runway ${rArr}, request landing clearance.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">${arr} Tower, ${callsign || "Victor Juliet Zero Five"}, runway ${rArr} vacated, request taxi to parking${parking ? " " + parking : ""}.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">${dep} Tower, ${callsign || "Victor Juliet Zero Five"}, radio check.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">${callsign || "Victor Juliet Zero Five"}, say again please.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">${callsign || "Victor Juliet Zero Five"}, speak slower please.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">${callsign || "Victor Juliet Zero Five"}, Roger, message received.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">Center, ${callsign || "Victor Juliet Zero Five"}, position [position], ${alt ? alt + " feet" : "current level"}, estimating ${arr} in [time].</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">${arr} Approach, ${callsign || "Victor Juliet Zero Five"}, request radar vector for approach.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">${callsign || "Victor Juliet Zero Five"}, ident.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">${callsign || "Victor Juliet Zero Five"}, frequency change to [frequency], good day.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">${dep} Tower, ${callsign || "Victor Juliet Zero Five"}, request priority for [reason].</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">PAN PAN, PAN PAN, PAN PAN, ${callsign || "Victor Juliet Zero Five"}, [nature of problem], position [position], request assistance.</span>`,
    (dep, arr, rDep, rArr, alt, deg, lr, parking, callsign, squawk) => `<span class="phrase">MAYDAY, MAYDAY, MAYDAY, ${callsign || "Victor Juliet Zero Five"}, [vital emergency], position [position], [number] souls on board.</span>`
  ]
};

const stepTitles = {
  fr: [
    () => `<div class="step-title">üõ´ D√©part</div>`,
    null, null, null,
    () => `<div class="step-title">‚úàÔ∏è En route</div>`,
    null, null, null,
    () => `<div class="step-title">üõ¨ Arriv√©e</div>`,
    null, null, null, null, null,
    () => `<div class="step-title">üìû Communications g√©n√©rales</div>`,
    null, null, null, null, null, null, null,
    () => `<div class="step-title">üö® Urgences</div>`,
    null, null
  ],
  en: [
    () => `<div class="step-title">üõ´ Departure</div>`,
    null, null, null,
    () => `<div class="step-title">‚úàÔ∏è Enroute</div>`,
    null, null, null,
    () => `<div class="step-title">üõ¨ Arrival</div>`,
    null, null, null, null, null,
    () => `<div class="step-title">üìû General communications</div>`,
    null, null, null, null, null, null, null,
    () => `<div class="step-title">üö® Emergencies</div>`,
    null, null
  ]
};

function setSiteLang(lang) {
  siteLang = lang;
  document.getElementById('site-fr').classList.toggle('active', lang === 'fr');
  document.getElementById('site-en').classList.toggle('active', lang === 'en');
  document.getElementById('main-title').textContent = lang === 'fr' ? 
    "Communications ATC - Guide des phrases radio VFR" : 
    "ATC Communications - VFR Radio Phrase Guide";
  
  // Labels et placeholders
  document.querySelectorAll('label').forEach(label => {
    if (label.dataset[lang]) label.textContent = label.dataset[lang];
  });
  document.querySelector('button[type="submit"]').textContent = document.querySelector('button[type="submit"]').dataset[lang];
  
  // Select options
  document.querySelectorAll('#leftRight option').forEach(opt => {
    if (opt.dataset[lang]) opt.textContent = opt.dataset[lang];
  });
  
  // R√©affiche les phrases si d√©j√† g√©n√©r√©es
  if (document.getElementById('output').innerHTML.trim()) {
    generatePhrases();
  }
}

function setCommLang(lang) {
  commLang = lang;
  document.getElementById('comm-fr').classList.toggle('active', lang === 'fr');
  document.getElementById('comm-en').classList.toggle('active', lang === 'en');
  
  // R√©affiche les phrases si d√©j√† g√©n√©r√©es
  if (document.getElementById('output').innerHTML.trim()) {
    generatePhrases();
  }
}

function generatePhrases(event) {
  if(event) event.preventDefault();

  let callsign = document.getElementById("callsign").value.trim();
  const depName = document.getElementById("departure").value.trim();
  const arrName = document.getElementById("arrival").value.trim();
  const rDep = document.getElementById("runwayDep").value.trim();
  const rArr = document.getElementById("runwayArr").value.trim();
  const alt = document.getElementById("altitude").value.trim();
  const deg = document.getElementById("degree").value.trim();
  const lr = document.getElementById("leftRight").value;
  const parking = document.getElementById("parking").value.trim();
  const squawk = document.getElementById("squawk").value.trim();

  const phraseList = phrases[commLang];
  const explainList = explanations[siteLang];
  const stepList = stepTitles[siteLang];

  let html = "";
  for(let i = 0; i < phraseList.length; i++) {
    if (stepList[i]) {
      html += stepList[i]();
    }
    if (!stepList[i]) {
      html += `<details><summary>${explainList[i]}</summary>${phraseList[i](depName, arrName, rDep, rArr, alt, deg, lr, parking, callsign, squawk)}</details>`;
    }
  }

  document.getElementById("output").innerHTML = html;
}

// Initialisation
setSiteLang('fr');
setCommLang('en');
</script>

</body>
</html>
